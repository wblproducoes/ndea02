<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Presença em Tempo Real</title>
<link href="/vendor/bootstrap.min.css" rel="stylesheet">
<link href="/css/styles.css" rel="stylesheet">
</head>
<body class="bg-light">
<div id="loading-overlay" class="d-none">
  <div class="loading-card text-center">
    <div class="spinner-border text-primary" role="status"></div>
    <div class="text-muted">Conectando ao banco de dados...</div>
    <button class="btn btn-outline-secondary btn-sm" onclick="location.reload()">Tentar novamente</button>
  </div>
 </div>
<nav class="navbar bg-white border-bottom">
<div class="container-fluid">
<div class="d-flex align-items-center gap-3">
<img src="/img/logo.svg" alt="Logo" height="48">
<h1 class="h5 m-0">Controle de Entrega</h1>
<span class="status">Online</span>
<button id="fullscreen" class="btn btn-outline-secondary">Tela Cheia</button>
</div>
<div class="ms-auto d-flex align-items-center gap-2">
<span class="text-muted">Identificação:</span>
<span id="stationName" class="badge text-bg-primary"></span>
<span id="roleBadge" class="badge text-bg-secondary"></span>
<button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#renameModal">Renomear</button>
<button class="btn btn-outline-warning" data-bs-toggle="modal" data-bs-target="#uploadModal">Upload Excel</button>
<button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#resetModal">Resetar</button>
</div>
</div>
</nav>
<main class="container py-3">
<div id="counters" class="row g-2"></div>
<div class="my-3">
  <input id="search" class="form-control" placeholder="Buscar por aluno, série ou mesa...">
</div>
<div class="mt-3">
<div class="table-responsive">
<table id="recordsTable" class="table table-sm table-hover align-middle">
<thead>
<tr>
<th>Série</th>
<th>Aluno</th>
<th>Mesa</th>
<th>Veio?</th>
<th>Chamado?</th>
<th>Produtos</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
</div>
</main>
<div class="modal fade" id="uploadModal" tabindex="-1" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header"><h5 class="modal-title">Upload Excel</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
<div class="modal-body">
<form id="uploadForm">
<div class="mb-3"><input type="file" id="uploadFile" accept=".xlsx" class="form-control"></div>
<div class="mb-3"><input type="password" id="uploadPassword" class="form-control" placeholder="Senha"></div>
<button type="submit" class="btn btn-primary w-100">Enviar</button>
 </form>
</div>
</div>
</div>
</div>
<div class="modal fade" id="roleModal" tabindex="-1" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header"><h5 class="modal-title">Definir Função da Estação</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
<div class="modal-body">
<form id="roleForm">
<div class="mb-3">
  <select id="roleSelect" class="form-select">
    <option value="admin">Administrador (altera tudo)</option>
    <option value="apresentador">Apresentador (só Chamado)</option>
    <option value="coxia">Coxia (só Veio)</option>
  </select>
</div>
<div class="mb-3"><input type="password" id="rolePassword" class="form-control" placeholder="Senha"></div>
<button type="submit" class="btn btn-primary w-100">Salvar</button>
 </form>
</div>
</div>
</div>
</div>
<div class="modal fade" id="resetModal" tabindex="-1" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header"><h5 class="modal-title">Resetar</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
<div class="modal-body">
<form id="resetForm">
<div class="mb-3"><input type="password" id="resetPassword" class="form-control" placeholder="Senha"></div>
<button type="submit" class="btn btn-danger w-100">Resetar</button>
 </form>
</div>
</div>
</div>
</div>
<div class="modal fade" id="renameModal" tabindex="-1" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header"><h5 class="modal-title">Renomear Estação</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
<div class="modal-body">
<form id="renameForm">
<div class="mb-3"><input type="text" id="newName" class="form-control" placeholder="Novo nome"></div>
<div class="mb-3">
  <select id="renameRole" class="form-select">
    <option value="">Manter função atual</option>
    <option value="admin">Administrador (altera tudo)</option>
    <option value="apresentador">Apresentador (só Chamado)</option>
    <option value="coxia">Coxia (só Veio)</option>
  </select>
 </div>
<div class="mb-3"><input type="password" id="renamePassword" class="form-control" placeholder="Senha"></div>
<button type="submit" class="btn btn-primary w-100">Salvar</button>
 </form>
</div>
</div>
</div>
</div>
<script src="/vendor/bootstrap.bundle.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="/js/app.js"></script>
</body>
</html>
